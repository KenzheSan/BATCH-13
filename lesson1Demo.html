<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üíé DEMO</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="./lesson.css" />
  </head>
  <body>
    <p class="backLink">
      <a class="link-opacity-10-hover" style="color: white" href="./index.html"
        >–ù–∞–∑–∞–¥</a
      >
    </p>
    <div class="container mt-5">
      <button id="addHtml">–î–æ–±–∞–≤–∏—Ç—å HTML</button>
      <button id="addCss">–î–æ–±–∞–≤–∏—Ç—å CSS</button>
      <button id="addJs">–î–æ–±–∞–≤–∏—Ç—å JavaScript</button>
      <button id="restart" class="btn btn-primary mt-3" style="display: none">
        –ó–∞–Ω–æ–≤–æ
      </button>
      <hr />
      <h4 class="display-5" id="timer">TIME</h4>

      <div
        class="spinner-border mt-3 mb-3"
        role="status"
        id="spinner"
        style="display: none"
      >
        <span class="sr-only">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
      </div>

      <div
        class="modal fade"
        id="gameModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="gameModalLabel"
        aria-hidden="true"
      >
        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
      </div>
      <div
        id="extraAlert"
        class="alert alert-warning"
        role="alert"
        style="display: none"
      ></div>

      <div id="gameForm" style="display: none">
        <div>
          <div class="input-group mb-3">
            <input
              id="gameInput"
              type="text"
              placeholder="–ì–æ—Ä–æ–¥"
              aria-label="Username"
              aria-describedby="basic-addon1"
            />

            <button id="play">–ò–≥–∞—Ä—Ç—å</button>
          </div>
          <div id="alert" class="alert alert-warning" role="alert"></div>
          <div>
            <ul id="citiesList" class="list-group"></ul>
          </div>
        </div>
      </div>
      <div
        class="alert alert-success"
        role="alert"
        id="successAlert"
        style="display: none"
      >
        A simple success alert‚Äîcheck it out!
      </div>
    </div>
    <script>
      const cities = [
        "–ê–±–∏–Ω–≥–¥–æ–Ω",
        "–ê–º—Å—Ç–µ—Ä–¥–∞–º",
        "–ê–Ω–¥—Ä–µ–∞–ø–æ–ª—å",
        "–ê–Ω—Ç–≤–µ—Ä–ø–µ–Ω",
        "–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫",
        "–ê—Å—Ç—Ä–∞—Ö–∞–Ω—å",
        "–ê—Ç–ª–∞–Ω—Ç–∞",
        "–ê—Ñ–∏–Ω—ã",
        "–ë–∞–¥–µ–Ω",
        "–ë–∞–∑–µ–ª—å",
        "–ë–∞–Ω–≥–∞–ª–æ—Ä",
        "–ë–∞—Ä—Å–µ–ª–æ–Ω–∞",
        "–ë–µ–∂–µ—Ü–∫",
        "–ë–µ–Ω–¥–µ—Ä—ã",
        "–ë–µ—Ä–ª–∏–Ω",
        "–ë–µ—Ä–Ω",
        "–ë–∏—à–∫–µ–∫",
        "–¢–∞–ª–∞—Å",
        "–û—à",
        "–ë–∞—Ç–∫–µ–Ω",
        "–ñ–∞–ª–∞–ª-–ê–±–∞–¥",
        "–ù–∞—Ä—ã–Ω",
        "–ë–∏—Ä–æ–±–∏–¥–∂–∞–Ω",
        "–ë–æ–ª–æ–≥–æ–µ",
        "–ë–æ–Ω–Ω",
        "–ë–æ—Å—Ç–æ–Ω",
        "–ë—Ä–∞–π–∑–∞—Ö-–Ω–∞-–†–µ–π–Ω–µ",
        "–ë—Ä–µ–º–µ–Ω",
        "–ë—É–¥—ë–Ω–Ω–æ–≤—Å–∫",
        "–ë—É—Ñ—Ñ–∞–ª–æ",
        "–ë—É—ç–Ω–æ—Å-–ê–π—Ä–µ—Å",
        "–í–∞—Ä—à–∞–≤–∞",
        "–í–∞—à–∏–Ω–≥—Ç–æ–Ω",
        "–í–µ–π–º–∞—Ä",
        "–í–µ–ª—å—Å",
        "–í–µ–ª—å—Å–∫",
        "–í–µ–Ω–∞",
        "–í–µ–Ω–µ—Ü–∏—è",
        "–í–µ—Å—å–µ–≥–æ–Ω—Å–∫",
        "–í–∏–Ω–Ω–∏—Ü–∞",
        "–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫",
        "–í–æ–ª–≥–æ–≥—Ä–∞–¥",
        "–í–æ–ª–æ–≥–¥–∞",
        "–í–æ—Ä–º—Å",
        "–í–æ—Ä–æ–Ω–µ–∂",
        "–í—ã–¥—Ä–æ–ø—É—Å–∫",
        "–í—ã—à–Ω–∏–π –í–æ–ª–æ—á—ë–∫",
        "–ì–∞–≤—Ä–∏–ª–æ–≤-–Ø–º",
        "–ì–∞–º–±—É—Ä–≥",
        "–ì–∞–Ω–Ω–æ–≤–µ—Ä",
        "–ì–¥–∞–Ω—å—Å–∫",
        "–ì–µ–Ω—É—è",
        "–ì–ª—É–ø–æ–≤",
        "–ì–ª—É–ø–æ–≤ –∏ –≥–ª—É–ø–æ–≤—Ü—ã",
        "–î–∞–Ω–∏–ª–æ–≤",
        "–î–µ–ª—Ñ—Ç",
        "–î–µ–Ω–≤–µ—Ä",
        "–î–µ—Ç—Ä–æ–π—Ç",
        "–î–æ–Ω–µ—Ü–∫",
        "–î–æ—Ä—á–µ—Å—Ç–µ—Ä",
        "–î—Ä–µ–∑–¥–µ–Ω",
        "–î—É–±–ª–∏–Ω",
        "–î—É–≤—Ä",
        "–î—É–π—Å–±—É—Ä–≥",
        "–ñ–µ–Ω–µ–≤–∞",
        "–ó—É–±—Ü–æ–≤",
        "–ò–≤–∞–Ω–æ–≤–æ",
        "–ò–µ—Ä—É—Å–∞–ª–∏–º",
        "–ò–∑–º–∞–∏–ª",
        "–ò–∑—é–º",
        "–ò–Ω–≥–µ–ª—å—Ö–∞–π–º-–∞–º-–†–∞–π–Ω",
        "–ò—Ä–∫—É—Ç—Å–∫",
        "–ö–∞–∑–∞–Ω—å",
        "–ö–∞–ª–≥–∞—Ä–∏",
        "–ö–∞–ª–µ",
        "–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥",
        "–ö–∞–ª—É–≥–∞",
        "–ö–∞–ª—è–∑–∏–Ω",
        "–ö–∞—Ä–∞–≥–∞–Ω–¥–∞",
        "–ö–∞—Ä–≥–æ–ø–æ–ª—å",
        "–ö–∞—Ä–ª—Å—Ä—É—ç",
        "–ö–∞—à–∏–Ω",
        "–ö—ë–ª—å–Ω",
        "–ö–∏–µ–≤",
        "–ö–∏–º—Ä—ã",
        "–ö–∏–Ω—à–∞—Å–∞",
        "–ö–∏—à–∏–Ω—ë–≤",
        "–ö–ª–∞–π–ø–µ–¥–∞",
        "–ö–æ–∫—à–µ—Ç–∞—É",
        "–ö–æ–ª–∞",
        "–ö–æ–Ω–∞–∫–æ–≤–æ",
        "–ö–æ–ø–µ–Ω–≥–∞–≥–µ–Ω",
        "–ö–æ—Ä—á–µ–≤",
        "–ö–æ—Ä—á–µ–≤–∞",
        "–ö–æ—Ä—è–∂–º–∞",
        "–ö–æ—Ç–ª–∞—Å",
        "–ö–æ—Ç–æ—Ä",
        "–ö—Ä–∞–∫–æ–≤",
        "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫",
        "–ö—Ä–∞—Å–Ω—ã–π –•–æ–ª–º",
        "–ö—É–≤—à–∏–Ω–æ–≤–æ",
        "–ö—ã–∑—ã–ª",
        "–õ–∞–Ω",
        "–õ–µ–π–ø—Ü–∏–≥",
        "–õ–∏–æ–Ω",
        "–õ–∏—Ö–æ—Å–ª–∞–≤–ª—å",
        "–õ–æ–∑–∞–Ω–Ω–∞",
        "–õ–æ–Ω–¥–æ–Ω",
        "–õ–æ—Å-–ê–Ω–¥–∂–µ–ª–µ—Å",
        "–õ—É–≥–∞",
        "–õ—å–≤–æ–≤",
        "–õ—å–µ–∂",
        "–õ—é–±–∏–º",
        "–ú–∞–¥—Ä–∏–¥",
        "–ú–∞–π–Ω—Ü",
        "–ú–∞–ª—å–±–æ—Ä–∫",
        "–ú–∞–º–æ–Ω–æ–≤–æ",
        "–ú–∞–Ω–≥–µ–π–º",
        "–ú–∞—Ä—Å–µ–ª—å",
        "–ú–∞—Ç–µ—Ä–∞",
        "–ú–µ–∑–µ–Ω—å",
        "–ú–µ–π—Å–µ–Ω",
        "–ú–µ—à—Ö–µ–¥",
        "–ú–∏–∞—Å—Å",
        "–ú–∏–ª–∞–Ω",
        "–ú–∏–Ω—É—Å–∏–Ω—Å–∫",
        "–ú–∏—Ä–Ω—ã–π",
        "–ú–æ–Ω—Ä–µ–∞–ª—å",
        "–ú—É—Ä–º–∞–Ω—Å–∫",
        "–ú—É—Ö–æ—Å—Ä–∞–Ω—Å–∫",
        "–ú—ã—à–∫–∏–Ω",
        "–ú—é–Ω—Ö–µ–Ω",
        "–ù–∞–∑–∞—Ä–µ—Ç",
        "–ù–∞—Ä—å—è–Ω-–ú–∞—Ä",
        "–ù–∞—Ö–∞–ª–∞–ª—å",
        "–ù–µ–∞–ø–æ–ª—å",
        "–ù–µ–ª–∏–¥–æ–≤–æ",
        "–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥",
        "–ù–∏–∂–Ω–∏–π –¢–∞–≥–∏–ª",
        "–ù–∏–∫–æ–ª–∞–µ–≤—Å–∫-–Ω–∞-–ê–º—É—Ä–µ",
        "–ù–∏–∫–æ–ª–æ-–ú–∞–ª–∏—Ü–∞",
        "–ù–∏—Ü—Ü–∞",
        "–ù–æ–≤–æ—Ä–∂–µ–≤",
        "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",
        "–ù–æ–≤—ã–π –û—Ä–ª–µ–∞–Ω",
        "–ù—å—é-–ô–æ—Ä–∫",
        "–ù—é—Ä–Ω–±–µ—Ä–≥",
        "–û–º—Å–∫",
        "–û—Ä–µ–Ω–±—É—Ä–≥",
        "–û—Å—Ç–∞—à–∫–æ–≤",
        "–û—Ç—Ç–∞–≤–∞",
        "–ü–∞–≤–∏—è",
        "–ü–∞—Ä–∏–∂",
        "–ü–µ—Ä–µ–º—ã—à–ª—å",
        "–ü–µ—Ä–º—å",
        "–ü–∏–∑–∞",
        "–ü–æ–¥–≥–∞–π—Ü—ã",
        "–ü–æ–ª—Ç–∞–≤–∞",
        "–ü–æ—Ä—Ç-–ê—Ä—Ç—É—Ä",
        "–ü–æ—à–µ—Ö–æ–Ω—å–µ",
        "–ü—Ä–∞–≥–∞",
        "–ü—Å–∫–æ–≤",
        "–ü—É—à–∫–∏–Ω–æ",
        "–†–∞–∑–¥–µ–ª—å–Ω–∞—è",
        "–†–µ–¥–∏–Ω–≥",
        "–†–µ–π–º—Å",
        "–†–∂–µ–≤",
        "–†–∏–≥–∞",
        "–†–∏–º",
        "–†–∏–æ-–¥–µ-–ñ–∞–Ω–µ–π—Ä–æ",
        "–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É",
        "–†—É–∞–Ω",
        "–†—è–∑–∞–Ω—å",
        "–°–∞–ª–æ–Ω–∏–∫–∏",
        "–°–∞–º–∞—Ä–∞",
        "–°–∞–Ω-–§—Ä–∞–Ω—Ü–∏—Å–∫–æ",
        "–°–∞—Ä–∞–µ–≤–æ",
        "–°–∞—Ä–∞–ø—É–ª",
        "–°–µ–≤–µ—Ä–Ω–∞—è –ü–∞–ª—å–º–∏—Ä–∞",
        "–°–µ–≤–µ—Ä–æ–¥–≤–∏–Ω—Å–∫",
        "–°–∏–º–±–∏—Ä—Å–∫",
        "–°–∏—ç—Ç–ª",
        "–°–æ–≤–µ—Ç—Å–∫",
        "–°–æ—Ä—Ä–µ–Ω—Ç–æ",
        "–°–æ—á–∏",
        "–°—Ç–∞–º–±—É–ª",
        "–°—Ç–∞—Ä–∏—Ü–∞",
        "–°—Ç—Ä–∞—Å–±—É—Ä–≥",
        "–°—É–¥–∏—Å–ª–∞–≤–ª—å",
        "–¢–∞–≥–∞–Ω—Ä–æ–≥",
        "–¢–≤–µ—Ä—å",
        "–¢–µ–≥–µ—Ä–∞–Ω",
        "–¢–µ–ª—å-–ê–≤–∏–≤",
        "–¢–º—É—Ç–∞—Ä–∞–∫–∞–Ω—å",
        "–¢–æ–±–æ–ª—å—Å–∫",
        "–¢–æ–º—Å–∫",
        "–¢–æ—Ä–∂–æ–∫",
        "–¢–æ—Ä–æ–Ω—Ç–æ",
        "–¢–æ—Ä–æ–ø–µ—Ü",
        "–¢—Ä–∏—Ä",
        "–¢—É–ª—á–∞",
        "–¢—É—Ä–∏–Ω",
        "–¢—é–º–µ–Ω—å",
        "–£—Ä—é–ø–∏–Ω—Å–∫",
        "–§–æ–Ω—Ç–µ–Ω–±–ª–æ",
        "–•–∞–±–∞—Ä–æ–≤—Å–∫",
        "–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫",
        "–•–∞—Ä—å–∫–æ–≤",
        "–•–µ–ª—å—Å–∏–Ω–∫–∏",
        "–•–∏–º–∫–∏",
        "–•–æ–±–∞—Ä—Ç",
        "–•–æ–ª–º–æ–≥–æ—Ä—ã",
        "–•—å—é—Å—Ç–æ–Ω",
        "–¶—é—Ä–∏—Ö",
        "–ß–µ—Ä–Ω–∏–≥–æ–≤",
        "–ß–∏–∫–∞–≥–æ",
        "–®–∞—Ñ—Ñ—Ö–∞—É–∑–µ–Ω",
        "–®–µ—à—É—Ä–∏–Ω–æ",
        "–≠–ª—å-–ß–∞–ª—Ç–µ–Ω",
        "–≠—Ä—Ñ—É—Ä—Ç",
        "–Ø–ª—É—Ç–æ—Ä–æ–≤—Å–∫",
        "–Ø–Ω—à–æ",
        "–£–≥–ª–∏—á",
        "–£–¥–æ–º–ª—è",
        "–£–∂–≥–æ—Ä–æ–¥",
      ];
      let gameData = [];
      let isJsButtonClicked = false;
      let timer,
        timeLeft = 60;
      const addHtmlButton = document.getElementById("addHtml");
      const addCssButton = document.getElementById("addCss");
      const addJsButton = document.getElementById("addJs");
      const gameInput = document.getElementById("gameInput");
      const playRoot = document.getElementById("gameForm");
      const gameButton = document.getElementById("play");
      const citiesList = document.getElementById("citiesList");
      const time = document.getElementById("timer");
      const restart = document.getElementById("restart");
      const alertHtml = document.getElementById("alert");
      const extraAlert = document.getElementById("extraAlert");
      const successAlert = document.getElementById("successAlert");

      addJsButton.addEventListener("click", () => {
        successAlert.style.display = "none";

        isJsButtonClicked = true;
        clearInterval(timer);

        if (playRoot.style.display === "none") {
          showAlert(extraAlert, "–ù–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã! –î–æ–±–∞–≤—å—Ç–µ HTML!");
          return;
        }
        restart.style.display = "flex";
        time.style.display = "flex";
        startTimer();
      });

      function startTimer() {
        successAlert.style.display = "none";
        timer = setInterval(() => {
          timeLeft--;
          time.innerHTML = timeLeft;
          if (timeLeft <= 0) {
            endGame();
          }
        }, 1000);
      }

      function endGame() {
        clearInterval(timer);
        gameButton.disabled = true;
        successAlert.style.display = "block";

        let score = gameData.length;
        let message = "";

        if (score > 7) {
          message = "–û—Ç–ª–∏—á–Ω–æ, —Ç—ã –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π —É—á–µ–Ω—ã–π –ø–æ –≥–æ—Ä–æ–¥–∞–º!";
        } else if (score > 5) {
          message = "–•–æ—Ä–æ—à–æ —Å–ø—Ä–∞–≤–ª—è–µ—à—å—Å—è, –ø—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!";
        } else if (score > 3) {
          message = "–ù–µ–ø–ª–æ—Ö–æ, –Ω–æ —Å—Ç–∞—Ä–∞–π—Å—è –µ—â–µ –ª—É—á—à–µ!";
        } else {
          message = "–ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, –Ω–µ –æ—Ç—á–∞–∏–≤–∞–π—Å—è!";
        }

        successAlert.innerHTML = message;
      }

      function restartGame() {
        successAlert.style.display = "none";
        gameData = [];
        isJsButtonClicked = false;
        gameButton.disabled = false;
        timeLeft = 60;
        time.innerHTML = "60";
        restart.style.display = "none";
        time.style.display = "none";
        clearInterval(timer);
        renderFunction(gameData);
      }

      restart.addEventListener("click", restartGame);

      addCssButton.addEventListener("click", () => {
        addHtmlButton.setAttribute("class", "btn btn-light");
        addCssButton.setAttribute("class", "btn btn-success");
        addJsButton.setAttribute("class", "btn btn-primary");
        gameInput.setAttribute("class", "form-control mr-5");
        gameButton.setAttribute("class", "btn btn-primary");
      });

      addHtmlButton.addEventListener("click", () => {
        playRoot.style.display = "block";
      });

      gameButton.addEventListener("click", () => {
        if (!isJsButtonClicked) {
          showAlert(alertHtml, "–ù–µ—Ç –ª–æ–≥–∏–∫–∏! –î–æ–±–∞–≤—å—Ç–µ Javascript!");
          return;
        }
        if (playRoot.style.display === "none") {
          showAlert(alertHtml, "–ù–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã! –î–æ–±–∞–≤—å—Ç–µ HTML!");
          return;
        }

        processUserInput();
      });

      function processUserInput() {
        successAlert.style.display = "none";
        let userInput = gameInput.value.trim().toLowerCase();
        gameInput.value = "";

        if (
          userInput &&
          cities.map((city) => city.toLowerCase()).includes(userInput)
        ) {
          if (
            gameData.some(
              (data) =>
                data.userAnswer.toLowerCase() === userInput ||
                data.jsAnswer.toLowerCase() === userInput
            )
          ) {
            showAlert(alertHtml, "–¢–∞–∫–æ–π –≥–æ—Ä–æ–¥ —É–∂–µ –≤–≤–µ–ª–∏!");
            return;
          }

          showSpinner(true);
          setTimeout(() => {
            showSpinner(false);
            let randomCity = getRandomCity();
            gameData.push({
              jsAnswer: randomCity.toUpperCase(),
              userAnswer: userInput.toUpperCase(),
            });
            renderFunction(gameData);
          }, 2000);
        } else {
          showAlert(alertHtml, "–¢–∞–∫–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –Ω–µ—Ç –≤ –±–∞–∑–µ!");
        }
      }

      function showSpinner(show) {
        document.getElementById("spinner").style.display = show
          ? "block"
          : "none";
      }

      function getRandomCity() {
        let randomCity;
        do {
          randomCity = cities[Math.floor(Math.random() * cities.length)];
        } while (
          gameData.some(
            (data) => data.jsAnswer.toLowerCase() === randomCity.toLowerCase()
          )
        );
        return randomCity;
      }

      function showAlert(element, message) {
        element.style.display = "block";
        element.innerHTML = message;
        setTimeout(() => {
          element.style.display = "none";
        }, 2000);
      }

      function renderFunction(cities) {
        citiesList.innerHTML = cities.length
          ? cities
              .map(
                (item) =>
                  `<li class="list-group-item"><b>–û—Ç–≤–µ—Ç JS:</b> ${item.jsAnswer} <b>–í–∞—à –æ—Ç–≤–µ—Ç:</b> ${item.userAnswer}</li>`
              )
              .join("")
          : "";
      }
    </script>
  </body>
</html>
